<html>
<head>
</head>
<body>
    <div class="heading">
        <h1>Rock, Paper, Scissors Game</h1>
        <h2>You vs the computer - 5 rounds, let's see who wins...</h2>
    </div>
    <div class="buttons">
        <h3>Click your selection below:</h3>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>
    <div class="results">
        <h3>Result of this round:</h3>
    </div>
    <div class="round-results">
        <h3>Results history from each round:</h3>

    </div>
    <div class="game-winner">
        <h3>Game Winner:</h3>

    </div>

    <script>
        
             //The computer randomly selects rock paper or scissors

            let options = ["rock", "paper", "scissors"]

            function computerPlay (options) {
                let randomSelection = Math.floor(Math.random()*options.length);
                return options[randomSelection];
            }

            //The user clicks on a button selection of rock, paper or scissors
            const buttons = document.querySelectorAll("button");
            let playerSelection = "";
            let computerSelection = "";
            let count = 0;

            buttons.forEach((button)=> {
                button.addEventListener("click", function(e){

                    count++;

                    if (count > 5 ) {
                        
                        return;
                    }

                    playerSelection = this.id;
                    computerSelection = computerPlay(options);

                    //Run analysis functions on who wins
                    let result = doesPlayerWin(playerSelection,computerSelection);
                    playRound(result); 

                    //The Computer and Player answers are displayed for current round
                    computerResultsDisplayed.textContent = "Computer chose this round: " + computerSelection;
                    playerResultsDisplayed.textContent = "Player chose this round: " + playerSelection;
                    
                    
                    // Stop after 5
                    if (count <= 5) {

                        let round = document.createElement("h5");
                        resultsHistory.appendChild(round);
                        round.textContent = "Round " + count + " results: " + (result === true ? "Win" : "Lose");
                    
                    }


                });
            });
        
                 
            //The responses are analysed to who wins

            function doesPlayerWin(playerSelection, computerSelection){
                // Draw
                if (computerSelection === playerSelection) {
                    return null;
                }

                // Rock
                if (playerSelection==="rock" && computerSelection==="scissors") {
                    return true;
                }

                // Paper
                if (playerSelection==="paper" && computerSelection==="rock") {
                    return true;
                }

                // Scissors
                if (playerSelection==="scissors" && computerSelection==="paper") {
                    return true;
                }
                
                return false;
            } 


            /*Display the current round results in the HTML*/

            //Find div to put element into
            const results = document.querySelector(".results");

            //Create the elements
            const resultsContent = document.createElement("h4");
            const computerResultsDisplayed = document.createElement("h5");
            const playerResultsDisplayed = document.createElement("h5");

            //Append this new element to the div found
            results.appendChild(computerResultsDisplayed);
            results.appendChild(playerResultsDisplayed);
            results.appendChild(resultsContent);

            //The winner is declared and the textContent added to Results div

            function playRound(result){
                switch (result){
                    case true:
                        resultsContent.textContent = "You win!";
                        break
                    case false:
                        resultsContent.textContent = "You lose!"
                        break
                    case null:
                        resultsContent.textContent = "It's a draw!"
                        break
                    default:
                        console.error("This is not working...")
                }
            } 

            /*For 5 rounds display computer or player win*/
            
            //Find div to put elements into
            const resultsHistory = document.querySelector(".round-results");

            //Create the elements
            


            //Append this new element to the div found


            //Announce overall winner of the 5 rounds game





    
    </script>    

</body>

</html>